00010004H ********
00020004T %COMPMEM CLIST/PROGRAM DOCUMENTATION
00030000T   COMPARE DIRECTORIES OF PDS/PANVALET LIBRARIES
00040000K AIDS SOURCE COMPARE UTILITY
00050000K COMPMEM TSO PDS PANVALET
00060000
00070000NOTE: this document is in upper/lower case. Please set the 'A,a  A'
00080000      switch on your terminal to 'A,a' position.
00090000
00100000     The %COMPMEM clist in 'NTL1.CMDPROC' invokes the COMPMEM program
00110000to read the directories of two PDS or Panvalet libraries, and compare
00120000the member names.  A report is generated showing member names existing
00130000in one, the other or both libraries.  You can optionally generate 80
00140000byte card images which are composed of user specified character strings
00150000as prefix and suffix to the member name.  A separate card image may be
00160000generated for each of the 3 conditions (in library1, in library2 or in
00170000both).
00180000
00190001
00200001
00210000The Syntax of the %COMPMEM clist is:
00220000
00230000    %COMPMEM dsname1 dsname2   / OUT(dsname3) / NEW / SYSOUT / CLASS(A)
00240000                                 DEST(remoteid)
00250000
00260000   REQUIRED-
00270000        dsname1 - Panvalet or PDS - library 1
00280000        dsname2 - Panvalet or PDS - library 2
00290000
00300000   DEFAULTS- sysout to users terminal, dest(local),
00310000             no output dataset
00320000
00330000
00340000
00350001   (currently..no batch JCL is provided for COMPMEM.. chk the CLIST
00360001    in 'NTL1.CMDPROC(COMPMEM)' to see DD card requirements if you
00370001    want to run this dude in batch.  KMT)
00380000
00390001
00400001                                (more on next page)
00410000   CONTROL CARD DESCRIPTIONS:
00420000
00430000  Keywords read information in the PL/I 'GET DATA' format.  Be sure to
00440000  hold down the SHIFT key to make strings within the quote marks in
00450000  upper case only.  The 'A,a - A' switch on your terminal is NOT a
00460000  substitute for using the SHIFT key.
00470000
00480000  Optional card image generation is controlled by a set of keywords
00490000  which determine the string to use based on the member's status in
00500000  one, the other, or both libraries.  The following table lists the
00510000  keyword options and the library status:
00520000
00530000   member position:   LIBRARY 1 ONLY    BOTH LIBRARIES    LIBRARY 2 ONLY
00540000                      --------------    --------------    --------------
00550000     string for PREFIX   LIB1P=            BOTHP=            LIB2P=
00560000
00570000     string for SUFFIX   LIB1S=            BOTHS=            LIB2S=
00580000
00590000     string for COMMENT  LIB1C=            BOTHC=            LIB2C=
00600001
00610000 Example:
00620000
00630000   Compare PDS 'TEST.STR.JCLLIB' to 'PROD.STR.JCLLIB', and for
00640000      members in both libraries, generate an IEBCOPY 'S M=((mem,,R))'
00650000      card with a comment of ' IN BOTH PROD/TEST'.
00660000      Put card output in 'STR.XXX6000.CNTL(WHATSIT)'
00670000
00680000   %COMPMEM 'TEST.STR.JCLLIB' 'PROD.STR.JCLLIB' +
00690000   OUT(XXX6000.CNTL(WHATSIT))
00700000
00710000    When prompted, enter the following control cards:
00720000
00730000     bothp=' S M=((',
00740000     boths=',,R))',
00750000     bothc=' IN BOTH PROD/TEST';
00760000
00770000  NOTE: characters within quote marks  M U S T  be typed in caps (with
00780000        SHIFT key held down.  End input by a semicolon.
00790000        PL/I will prompt you for more input by '+:'. You can end the
00800000        prompting by a semicolon or by '/*' (eof) in columns 1-2.
00810000
00820000Operands of the command:
00830000
00840000  DSNAME1 - Panvalet or PDS library to be read for member name compare.
00850000  DSNAME2 - Panvalet or PDS library to be read for member name compare.
00860000
00870000  OUT(dsname3) - optional keyword - specifies optional output dataset
00880000            for control cards generated by LIBn or BOTH control keywords
00890000  NEW -     optional keyword - says to DELETE dsname3 from OUT keyword
00900000            and reallocate the dataset.
00910000
00920000  SYSOUT    optional keyword - send output to SYSOUT instead of printing
00930000            at the terminal. SYSOUT class is controlled by the CLASS
00940000            parameter.
00950000  CLASS(A)  optional keyword-specifies SYSOUT class to use for output.
00960000            Ignored unless SYSOUT keyword is present.
00970000  DEST(remoteid)-optional keyword-specifies JES2 destination for SYSOUT
00980000            In effect only if SYSOUT keyword is present.
00990000
01000000                     (more on next page)
01010000 The following are optional keywords entered in response to the
01020000   prompt message AFTER %COMPMEM is invoked:
01030000
01040000  LIB1P='string' - optional control card - Put 'string' as PREFIX to
01050000            member name if member exists on Library 1 only.
01060000  LIB1S='string' - optional control card - Put 'string' as SUFFIX to
01070000            member name if member exists on Library 1 only.
01080000  LIB1C='string' - optional control card - Put 'string' after the
01090000            PREFIX || membername || SUFFIX string at a fixed number
01100000            of characters into the record if member is on Library 1 only
01110000
01120000  LIB2P='string' - optional control card - Put 'string' as PREFIX to
01130000            member name if member exists on Library 2 only.
01140000  LIB2S='string' - optional control card - Put 'string' as SUFFIX to
01150000            member name if member exists on Library 2 only.
01160000  LIB2C='string' - optional control card - Put 'string' after the
01170000            PREFIX || membername || SUFFIX string at a fixed number
01180000            of characters into the record if member is on Library 2 only
01190000
01200000
01210000  BOTHP='string' - optional control card - Put 'string' as PREFIX to
01220000            member name if member exists on both libraries.
01230000  BOTHS='string' - optional control card - Put 'string' as SUFFIX to
01240000            member name if member exists on both libraries.
01250000  BOTHC='string' - optional control card - Put 'string' after the
01260000            PREFIX || membername || SUFFIX string at a fixed number
01270000            of characters into the record if member is on both libraries
01280000
01290000This help is available in 'NTL1.HELP(COMPMEM)' and is avaliable
01300000in TSO by typing 'HELP COMPMEM'.
01310000
01620002AUTHOR:  Ken True     DATE: 21OCT81
01630002$EOM
